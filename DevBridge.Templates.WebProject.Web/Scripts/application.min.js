define("forms",["jquery"],function(t){var n=(window.console||{log:t.noop},{}),o={selector:".f-ajax",errorSelector:".f-ajax-errors",classWhileSubmitting:"f-submitting",defaultMessage:"Failed to process request. Please try again later."},e=function(o){o.preventDefault();var e="submitting",i="status",a=t(this),l=a.find(".f-ajax-errors");return a.data(i)===e?!1:(a.data(i,e),a.addClass(n.classWhileSubmitting),l.hide().empty(),"function"!=typeof a.valid||a.valid()?(t.ajax({url:a.attr("action"),type:"POST",dataType:"json"}).done(function(t){if(t.success){if(t.redirectUrl)return window.location=t.redirectUrl,void 0}else l.html(t.message||n.defaultMessage).fadeIn();a.data(i,null),a.removeClass(n.classWhileSubmitting)}),!0):!1)};return{init:function(i){n=t.extend(o,i),t(document).on("submit",n.selector,e)}}}),function(t){"function"==typeof define&&define.amd?define("jquery.modal",["jquery"],t):t(jQuery)}(function(t){function n(n){var o=this;o.options=t.extend(l(),n),o.template=r(o.options),o.context=t(o.template),o.container=t('[data-modal-control="container"]',o.context),o.contentContainer=t('[data-modal-control="content"]',o.context),o.titleContainer=t('[data-modal-control="title"]',o.context),o.eventHandlers=[],o.init()}var o="0.1",e=0,i=[],a=function(){},l=(window.console||{log:a},function(){return{loader:'<div class="modal-loader">Loading...</div>',htmlClass:"modal-on",className:null,closeOnBlur:!0,closeOnEscape:!0,templateId:null,openEffect:"fadeIn",openDuration:100,closeEffect:"fadeOut",closeDuration:100,autofocus:!0}}),s=function(){return'<div class="modal-context">  <div class="modal-container" data-modal-control="container">    <div class="modal-title" data-modal-control="title"></div>    <div class="modal-close" data-modal-control="close"></div>    <div class="modal-content" data-modal-control="content"></div>  </div></div>'},r=function(n){var o,e=null;return n.templateId&&(o=t("#"+n.templateId),o.length&&(e=o.html())),e||s()};n.version=o,n.openCount=function(){return e},n.openModals=function(){return i},n.parseOptions=function(n){var o=t(n),e=o.attr("data-modal"),i=Function("return "+e)()||{},a=o.attr("href");return i.url=a,i.title=i.title||o.attr("title")||o.text(),i},n.prototype={version:o,init:function(){var t=this,n=t.options;n.width&&t.container.width(n.width),n.height&&t.contentContainer.height(n.height),n.className&&t.context.addClass(n.className),t.context.on("click",'[data-modal-control="close"]',function(){t.close()}),t.context.on("click",function(o){n.closeOnBlur&&o.target===this&&t.close()}),t.on("close",n.onClose||a),t.on("load",n.onLoad||a),t.title(t.options.title)},option:function(t,n){var o=this.options;return 1===arguments.length?o[t]:(o[t]=n,this)},open:function(){var t=this,n=t.options,o=n.openEffect,a=n.openDuration;t.context.appendTo("body"),o&&a&&t.context[o]&&t.context.hide()[o](a),t.loadContent(),e+=1,i.push(this),1===e&&t.onFirstOpen()},close:function(t){var n=this,o=n.options,a=o.closeEffect,l=o.closeDuration,s=function(){n.context.remove(),e-=1,i.pop(),0===e&&n.onLastClose()};(t||n.fire("close")!==!1)&&(a&&l&&n.context[a]?n.context[a](l).promise().done(s):s())},loadContent:function(){var n,o=this,e=o.options,i=e.url;return e.content?(setTimeout(function(){o.content(e.content)},0),void 0):i&&"#"===i[0]?(n=t(i).html(),setTimeout(function(){o.content(n)},0),void 0):(i&&(o.showLoader(),t.ajax({url:i}).done(function(t){o.content(t)})),void 0)},title:function(t){return 0===arguments.length?this.options.title:(this.options.title=t,this.titleContainer.html(t),void 0)},content:function(t){var n=this,o=n.options,e=n.contentContainer;return 0===arguments.length?o.content:(o.content=t,e.html(t),o.autofocus&&e.find("input:text:first").focus(),n.fire("load"),void 0)},showLoader:function(){this.contentContainer.html(this.options.loader)},on:function(t,n){return this.eventHandlers[t]=n,this},fire:function(t){return(this.eventHandlers[t]||a)(this)},onFirstOpen:function(){t("html").addClass(this.options.htmlClass)},onLastClose:function(){t("html").removeClass(this.options.htmlClass)}},t.Modal=n,t.fn.openModal=function(o){return this.each(function(){var e=n.parseOptions(this),i=t.extend({},e,o||{}),a=new n(i);return a.open(),!1})},t.openModal=function(t){var o=new n(t);return o.open(),o},t(window).on("keyup",function(t){if(27===t.which){var n=i[i.length-1];n&&n.options.closeOnEscape&&n.close()}})}),require.config({paths:{jquery:"http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min"}}),require(["jquery","forms","jquery.modal"],function(t,n){window.console||{log:function(){}},n.init(),t(document).on("click",".modal",function(n){n.preventDefault(),t(this).openModal()})}),define("application",function(){});