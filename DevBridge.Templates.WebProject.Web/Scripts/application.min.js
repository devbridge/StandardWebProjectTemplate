(function(t){"function"==typeof define&&define.amd?define("jquery.modal",["jquery"],t):t(jQuery)})(function(t){function n(n){var o=this;o.options=t.extend(l(),n),o.template=s(o.options),o.context=t(o.template),o.container=t('[data-modal-control="container"]',o.context),o.contentContainer=t('[data-modal-control="content"]',o.context),o.titleContainer=t('[data-modal-control="title"]',o.context),o.eventHandlers=[],o.init()}var o="0.1",e=0,i=[],a=function(){},l=(window.console||{log:a},function(){return{loader:'<div class="modal-loader">Loading...</div>',htmlClass:"modal-on",className:null,closeOnBlur:!0,closeOnEscape:!0,templateId:null}}),c=function(){return'<div class="modal-context">  <div class="modal-container" data-modal-control="container">    <div class="modal-title" data-modal-control="title"></div>    <div class="modal-close" data-modal-control="close"></div>    <div class="modal-content" data-modal-control="content"></div>  </div></div>'},s=function(n){var o,e=null;return n.templateId&&(o=t("#"+n.templateId),o.length&&(e=o.html())),e||c()};n.version=o,n.openCount=function(){return e},n.openModals=function(){return i},n.parseOptions=function(n){var o=t(n),e=o.attr("data-modal"),i=Function("return "+e)()||{},a=o.attr("href");return i.url=a,i.title=i.title||o.attr("title")||o.text(),i},n.prototype={version:o,init:function(){var t=this,n=t.options;n.width&&t.container.width(n.width),n.height&&t.contentContainer.height(n.height),n.className&&t.context.addClass(n.className),t.context.on("click",'[data-modal-control="close"]',function(){t.close()}),t.context.on("click",function(o){n.closeOnBlur&&o.target===this&&t.close()}),t.on("close",n.onClose||a),t.on("load",n.onLoad||a),t.title(t.options.title)},open:function(){var t=this;t.context.appendTo("body"),t.loadContent(),e+=1,i.push(this),1===e&&t.onFirstOpen()},close:function(t){var n=this;(t||n.fire("close")!==!1)&&(n.context.remove(),e-=1,i.pop(),0===e&&n.onLastClose())},loadContent:function(){var n,o=this,e=o.options,i=e.url;return e.content?(setTimeout(function(){o.content(e.content)},0),void 0):i&&"#"===i[0]?(n=t(i).html(),setTimeout(function(){o.content(n)},0),void 0):(i&&(o.showLoader(),t.ajax({url:i}).done(function(t){o.content(t)})),void 0)},title:function(t){return 0===arguments.length?this.options.title:(this.options.title=t,this.titleContainer.html(t),void 0)},content:function(t){return 0===arguments.length?this.options.content:(this.options.content=t,this.contentContainer.html(t),this.fire("load"),void 0)},showLoader:function(){this.contentContainer.html(this.options.loader)},on:function(t,n){return this.eventHandlers[t]=n,this},fire:function(t){return(this.eventHandlers[t]||a)(this)},onFirstOpen:function(){t("html").addClass(this.options.htmlClass)},onLastClose:function(){t("html").removeClass(this.options.htmlClass)}},t.Modal=n,t.fn.openModal=function(o){return this.each(function(){var e=n.parseOptions(this),i=t.extend({},e,o||{}),a=new n(i);return a.open(),!1})},t.openModal=function(t){var o=new n(t);o.open()},t(window).on("keyup",function(t){if(27===t.which){var n=i[i.length-1];n&&n.options.closeOnEscape&&n.close()}})}),require.config({paths:{jquery:"http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min"}}),require(["jquery","jquery.modal"],function(t){window.console||{log:function(){}},t("#debug").html("Scripts loaded"),t(document).on("click",".modal",function(n){n.preventDefault(),t(this).openModal()})}),define("application",function(){});